<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
    <title>Админ Панель</title>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-section">
            <h2 style="padding-left: 15px;">Admin</h2>
            <div>
                <a href="#" class="sidebar-toggle">Города</a>
                <div class="dropdown" id="city-dropdown">
                    <a id="city-bukhara">Бухара</a>
                    <a id="city-samarkand">Самарканд</a>
                    <a id="city-khiva">Хива</a>
                </div>
            </div>
            <div>
                <a href="#" class="sidebar-toggle">Кассиры</a>
                <div class="dropdown" id="cashier-dropdown">
                    <a href="#" id="add-cashier-link">Добавить</a>
                </div>
            </div>
        </div>
        <a href="/logout" class="logout">Выйти</a>
    </div>
    <div class="container">
        <div class="header">
            <h1>Добро пожаловать!</h1>
            <div class="ticket-container">
                <div class="ticket-info">
                    <h2 id="header-city">Samarqand</h2>
                    <p>Место проведения: Центр молодежи</p>
                    <p>23.04.2024 • 14:00</p>
                    <span id="ticket-price"></span>
                    <p>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - </p>
                </div>
                <div id="qr-code-container"  style="display: none;">
                    <canvas id="qr-code-canvas"></canvas>
                    <img id="qr-code-img" alt="QR Code" style="display: none;">
                </div>
                <div id="price-update-form" class="price-update-form" style="display: none;">
                    <label for="city-select">Выберите город:</label>
                    <select id="city-select">
                        <option value="Бухара">Бухара</option>
                        <option value="Самарканд">Самарканд</option>
                        <option value="Хива">Хива</option>
                    </select>
                    <label for="price">Price:</label>
        <input type="number" id="price" name="price" min="0" step="0.01" required>
        
        <button type="submit">Set Price</button>

                    
                </div>
                <button id="generateQR" class="button">Сгенерировать QR</button>
                <button id="updatePrice" class="button">Установить цену</button>
            </div>
            
        </div>
        
        <div id="form-container" class="form-container" style="display: none;">
            <h2>Добавить Кассира</h2>
            <form id="add-cashier-form">
                <label for="cashier-username">Username</label>
                <input type="text" id="cashier-username" name="username" required>
                <label for="cashier-password">Password</label>
                <input type="password" id="cashier-password" name="password" required>
                <label for="cashier-city">City</label>
                <select id="cashier-city" name="city" required>
                    <option value="Бухара">Бухара</option>
                    <option value="Самарканд">Самарканд</option>
                    <option value="Хива">Хива</option>
                </select>
                <button type="submit">Добавить</button>
            </form>
        </div>
        <div class="status-indicator">
            <div class="status-item">
                <img src="img/green.jpeg" alt="Green Circle">
                <p>Система оплаты</p>
                <span>Нажмите чтобы включить/выключить систему оплаты</span>
            </div>
            <div class="status-item">
                <img src="img/red.jpeg" alt="Red Circle">
                <p>Модель</p>
                <span>Нажмите чтобы включить/выключить модель</span>
            </div>
            <div class="status-item">
                <img src="img/green.jpeg" alt="Green Circle">
                <p>Тестовый период</p>
                <span>Нажмите чтобы включить/выключить тестовый период</span>
            </div>
        </div>
        <div class="payment-history">
            <h2>История оплаты</h2>
            <div class="filters">
                <h4>Все транзакции</h4>
                <div class="date-filter">
                    <label for="filter-date">Дата:</label>
                    <input type="date" id="filter-date">
                    <button class="filter-button" onclick="filterByDate()">Фильтр</button>
                </div>
            </div>
            <table id="payment-table">
                <thead>
                    <tr>
                        <th>Описание</th>
                        <th>ID</th>
                        <th>Номер карты</th>
                        <th>Дата и время</th>
                        <th>Сумма</th>
                        <th>Чек</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Покупка билета</td>
                        <td>#000001</td>
                        <td>**** 1234</td>
                        <td>2023-04-28T12:30</td>
                        <td>+$230</td>
                        <td><button class="download-button">Загрузить</button></td>
                    </tr>
                    <tr>
                        <td>Покупка билета</td>
                        <td>#000002</td>
                        <td>**** 5678</td>
                        <td>2023-05-01T14:00</td>
                        <td>+$150</td>
                        <td><button class="download-button">Загрузить</button></td>
                    </tr>
                    <!-- Add more rows as needed -->
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
